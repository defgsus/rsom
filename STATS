

2014/02/03 --- repeated call to calcDMap() ----------
-------------- TP W530, Quadro K1000M, ubuntu64 -----

         size  |       cpu fps |  cuda fps | speed-up
  32x  32x   8           21219       73731   3.47466x
  32x  32x  16           21753       39286   1.80599x
  32x  32x 128            2754        2885   1.04758x
  32x  32x 256            1392        1434   1.03019x
  32x  32x1024             343         365   1.06334x
  64x  64x   8           10803       22817   2.11213x
  64x  64x  16            5490       10652   1.94007x
  64x  64x 128             679         729   1.07355x
  64x  64x 256             348         359   1.03289x
  64x  64x1024              87          89   1.0252x
 128x 128x   8            2700        6106   2.26132x
 128x 128x  16            1370        2705   1.97348x
 128x 128x 128             173         182   1.04964x
 128x 128x 256              87          89   1.02587x
 128x 128x1024              22          22   1.02594x
 256x 256x   8             671        1557   2.31905x
 256x 256x  16             339         684   2.01484x
 256x 256x 128              43          45   1.05728x
 256x 256x 256              21          22   1.03745x
 256x 256x1024               5           5   1.03869x
 512x 512x   8             169         382   2.2543x
 512x 512x  16              86         168   1.94457x
 512x 512x 128              10          11   1.06461x
 512x 512x 256               5           5   1.04164x
 512x 512x1024               1           1   1.03448x
1024x1024x   8              42          98   2.31429x
1024x1024x  16              21          42   1.9865x
1024x1024x 128               2           2   1.06625x
1024x1024x 256               1           1   1.04249x


2014/02/03 --- repeated call to calcDMap() ----------
-------------- i7, GTX 550 Ti, ubuntu32 -------------

256 threads:
         size  |      cpu mops | cuda mops | speed-up
  32x  32x   8          328206     3137406   9.55925x
  32x  32x  16          391232     3074918   7.85958x
  32x  32x 128          371652     1177817   3.16914x
  32x  32x 256          368130     1191062   3.23543x
  32x  32x1024          369244     1220042   3.30416x
  64x  64x   8          405949     4202948   10.3534x
  64x  64x  16          410441     1885678   4.59427x
  64x  64x 128          381864      861255   2.2554x
  64x  64x 256          378245      856920   2.26552x
  64x  64x1024          367415      841677   2.2908x
 128x 128x   8          405753     4213982   10.3856x
 128x 128x  16          412086     1743252   4.23031x
 128x 128x 128          377009      791855   2.10036x
 128x 128x 256          370614      795544   2.14655x
 128x 128x1024          367136      773884   2.1079x
 256x 256x   8          404119     4503973   11.1451x
 256x 256x  16          410735     1790224   4.35859x
 256x 256x 128          373224      776557   2.08067x
 256x 256x 256          369426      781622   2.11578x
 256x 256x1024          368171      758327   2.05971x
 512x 512x   8          397453     4586683   11.5402x
 512x 512x  16          402729     1796691   4.46128x
 512x 512x 128          374711      778125   2.0766x
 512x 512x 256          371025      782171   2.10813x

512 threads:
         size  |      cpu mops | cuda mops | speed-up
  32x  32x   8          343200     2605033   7.59041x
  32x  32x  16          407899     1309391   3.21008x
  32x  32x 128          382470      620346   1.62194x
  32x  32x 256          377942      619126   1.63815x
  32x  32x1024          376190      623319   1.65693x
  64x  64x   8          405853     4070594   10.0297x
  64x  64x  16          412021     1840016   4.46583x
  64x  64x 128          382740      814022   2.12683x
  64x  64x 256          378027      825835   2.18459x
  64x  64x1024          368119      807324   2.1931x
 128x 128x   8          406616     4071404   10.0129x
 128x 128x  16          411099     1747650   4.25116x
 128x 128x 128          378281      724528   1.91532x
 128x 128x 256          369136      759888   2.05856x
 128x 128x1024          367944      754359   2.0502x
 256x 256x   8          405462     4618760   11.3913x
 256x 256x  16          410822     1777473   4.32662x
 256x 256x 128          374004      750662   2.0071x
 256x 256x 256          370994      756799   2.03992x
 256x 256x1024          366500      738516   2.01505x
 512x 512x   8          396085     4760460   12.0188x
 512x 512x  16          398269     1780032   4.46942x
 512x 512x 128          370272      749599   2.02445x
 512x 512x 256          367383      755186   2.05558x

1024 threads:
         size  |      cpu mops | cuda mops | speed-up
  32x  32x   8          316496     1173722   3.70848x
  32x  32x  16          398719      583368   1.4631x
  32x  32x 128          364162      275647   0.756934x
  32x  32x 256          375765      278965   0.742391x
  32x  32x1024          372167      273209   0.734103x
  64x  64x   8          402130     3945920   9.81253x
  64x  64x  16          408851     1728151   4.22685x
  64x  64x 128          378686      788310   2.08169x
  64x  64x 256          375594      795656   2.11839x
  64x  64x1024          363855      778192   2.13874x
 128x 128x   8          402929     4069987   10.101x
 128x 128x  16          407238     1753875   4.30676x
 128x 128x 128          373153      790719   2.11902x
 128x 128x 256          367157      797892   2.17316x
 128x 128x1024          364966      779419   2.13559x
 256x 256x   8          401423     4210533   10.489x
 256x 256x  16          407801     1769339   4.33873x
 256x 256x 128          370665      791952   2.13657x
 256x 256x 256          366676      798405   2.17741x
 256x 256x1024          365604      780986   2.13615x
 512x 512x   8          392525     4250528   10.8287x
 512x 512x  16          400468     1773397   4.4283x
 512x 512x 128          370637      792836   2.13912x
 512x 512x 256          367690      799902   2.17548x


2014/02/03 --- repeated Vector Multiply -------------
-------------- i7, GTX 550 Ti, ubuntu32 -------------

128 threads:
         size  |      cpu mops | cuda mops | speed-up
  32x  32x   1          827721      694938   0.839581x
  64x  64x   1         1807340     2401546   1.32877x
 128x 128x   1         1822745     5024578   2.7566x
 256x 256x   1         1816541     5151160   2.8357x
 512x 512x   1         1811753     5748408   3.17284x
1024x1024x   1         1653468     5915380   3.57756x

256 threads:
  32x  32x   1          873224      694421   0.795238x
  64x  64x   1         1818824     2415098   1.32783x
 128x 128x   1         1825668     5549328   3.03961x
 256x 256x   1         1820656     6136517   3.3705x
 512x 512x   1         1818322     7070595   3.88853x
1024x1024x   1         1683956     7358438   4.36973x

512 threads:
  32x  32x   1          983379      683265   0.694814x
  64x  64x   1         1770700     2422227   1.36795x
 128x 128x   1         1776777     5405283   3.04218x
 256x 256x   1         1775469     5908495   3.32785x
 512x 512x   1         1835241     6774190   3.69117x
1024x1024x   1         1702301     7040264   4.13573x



2014/02/03 --- repeated calcDMap() ---------------------------------------------------------------------------------------------
-------------- i7, GTX 550 Ti, ubuntu32 ----------------------------------------------------------------------------------------

          size |         cpu mops |      cuda64 mops |     cuda128 mops |     cuda256 mops |     cuda512 mops |    cuda1024 mops 
  32x  32x   8 |    329293     -- |   3075711  9.34x |   3126980   9.5x |   3138015  9.53x |   2604874  7.91x |   1174978  3.57x 
  32x  32x  16 |    403384     -- |   3084642  7.65x |   3098404  7.68x |   3081099  7.64x |   1310206  3.25x |    584014  1.45x 
  32x  32x 128 |    383903     -- |   1181258  3.08x |   1181551  3.08x |   1178234  3.07x |    620291  1.62x |    278272 0.725x 
  32x  32x 256 |    379878     -- |   1194011  3.14x |   1193536  3.14x |   1192387  3.14x |    620183  1.63x |    279027 0.735x 
  32x  32x 512 |    377148     -- |   1134688  3.01x |   1189975  3.16x |   1189553  3.15x |    620747  1.65x |    277259 0.735x 
  64x  64x   8 |    407834     -- |   4507086  11.1x |   4224621  10.4x |   4181983  10.3x |   4050225  9.93x |   3939318  9.66x 
  64x  64x  16 |    413072     -- |   2370683  5.74x |   1892616  4.58x |   1882061  4.56x |   1839487  4.45x |   1730101  4.19x 
  64x  64x 128 |    384137     -- |   1011679  2.63x |    864310  2.25x |    861898  2.24x |    815386  2.12x |    789813  2.06x 
  64x  64x 256 |    378815     -- |   1001774  2.64x |    853203  2.25x |    852779  2.25x |    822760  2.17x |    786970  2.08x 
  64x  64x 512 |    374209     -- |    990178  2.65x |    840572  2.25x |    843179  2.25x |    812092  2.17x |    786125   2.1x 
 128x 128x   8 |    407843     -- |   5909036  14.5x |   5215487  12.8x |   4206518  10.3x |   4067861  9.97x |   4063255  9.96x 
 128x 128x  16 |    414151     -- |   2515457  6.07x |   1962758  4.74x |   1745091  4.21x |   1752450  4.23x |   1754888  4.24x 
 128x 128x 128 |    379582     -- |   1003044  2.64x |    853881  2.25x |    792552  2.09x |    732380  1.93x |    791289  2.08x 
 128x 128x 256 |    372255     -- |    998034  2.68x |    851051  2.29x |    795046  2.14x |    760797  2.04x |    799184  2.15x 
 128x 128x 512 |    370766     -- |    994264  2.68x |    831001  2.24x |    778774   2.1x |    758730  2.05x |    786712  2.12x 
 256x 256x   8 |    408438     -- |   6851365  16.8x |   5758054  14.1x |   4509625    11x |   4586079  11.2x |   4190533  10.3x 
 256x 256x  16 |    413578     -- |   2573393  6.22x |   1986899   4.8x |   1788550  4.32x |   1775732  4.29x |   1768690  4.28x 
 256x 256x 128 |    375661     -- |   1002471  2.67x |    844532  2.25x |    776693  2.07x |    751669     2x |    791566  2.11x 
 256x 256x 256 |    372202     -- |    995886  2.68x |    845409  2.27x |    781708   2.1x |    757196  2.03x |    798464  2.15x 
 256x 256x 512 |    370444     -- |    991605  2.68x |    826415  2.23x |    764976  2.07x |    744389  2.01x |    788551  2.13x 
 374x 374x   8 |    401333     -- |   7061312  17.6x |   5858697  14.6x |   4566823  11.4x |   4694437  11.7x |   4187123  10.4x 
 374x 374x  16 |    407380     -- |   2583603  6.34x |   1991107  4.89x |   1794667  4.41x |   1780433  4.37x |   1774540  4.36x 
 374x 374x 128 |    375595     -- |   1002289  2.67x |    845032  2.25x |    777200  2.07x |    751024     2x |    794064  2.11x 
 374x 374x 256 |    372300     -- |    997498  2.68x |    846887  2.27x |    782023   2.1x |    757189  2.03x |    800702  2.15x 
 374x 374x 512 |    370449     -- |    994342  2.68x |    824972  2.23x |    764875  2.06x |    743416  2.01x |    790815  2.13x 
 512x 512x   8 |    400986     -- |   7148671  17.8x |   5906770  14.7x |   4589213  11.4x |   4728651  11.8x |   4225887  10.5x 
 512x 512x  16 |    404508     -- |   2592267  6.41x |   1994073  4.93x |   1797712  4.44x |   1786622  4.42x |   1775486  4.39x 
 512x 512x 128 |    375706     -- |   1003123  2.67x |    845610  2.25x |    777404  2.07x |    749629     2x |    792892  2.11x 
 512x 512x 256 |    371537     -- |    997003  2.68x |    846094  2.28x |    781649   2.1x |    755323  2.03x |    799516  2.15x 
 512x 512x 512 |    360293     -- |    991764  2.75x |    824294  2.29x |    764035  2.12x |    741666  2.06x |    788810  2.19x 
 768x 768x   8 |    396988     -- |   7197183  18.1x |   5911809  14.9x |   4586110  11.6x |   4796628  12.1x |   4229587  10.7x 
 768x 768x  16 |    403998     -- |   2593710  6.42x |   1995900  4.94x |   1799395  4.45x |   1789937  4.43x |   1780269  4.41x 
 768x 768x 128 |    374842     -- |   1003252  2.68x |    845133  2.25x |    777281  2.07x |    750284     2x |    794161  2.12x 
 768x 768x 256 |    371287     -- |    996840  2.68x |    845800  2.28x |    781542   2.1x |    755917  2.04x |    801261  2.16x 
 768x 768x 512 |    366104     -- |             fail |             fail |             fail |             fail |             fail 
1024x1024x   8 |    396847     -- |   7228830  18.2x |   5912186  14.9x |   4564176  11.5x |   4758891    12x |   4250501  10.7x 
1024x1024x  16 |    402813     -- |   2600472  6.46x |   1996169  4.96x |   1802337  4.47x |   1788166  4.44x |   1784527  4.43x 
1024x1024x 128 |    374734     -- |   1002835  2.68x |    845011  2.25x |    777282  2.07x |    750508     2x |    796068  2.12x 
1024x1024x 256 |    371687     -- |             fail |             fail |             fail |             fail |             fail 
1024x1024x 512 |             fail |             fail |             fail |             fail |             fail |             fail 


2014/02/03 --- repeated calcDMap() ---------------------------------------------------------------------------------------------
-------------- TP W530, Quadro K1000M, ubuntu64 --------------------------------------------------------------------------------

global vec mem:
          size |         cpu mops |      cuda64 mops |     cuda128 mops |     cuda256 mops |     cuda512 mops |    cuda1024 mops | best
  32x  32x   8 |    406356     -- |   3094757  7.62x |   3128019   7.7x |   3137151  7.72x |   2603925  6.41x |   1174171  2.89x | 7.72x
  32x  32x  16 |    400657     -- |   3083768   7.7x |   3097887  7.73x |   3080687  7.69x |   1309400  3.27x |    583874  1.46x | 7.73x
  32x  32x 128 |    378927     -- |   1181287  3.12x |   1181155  3.12x |   1177772  3.11x |    620444  1.64x |    277566 0.733x | 3.12x
  32x  32x 256 |    376773     -- |   1192677  3.17x |   1185350  3.15x |   1171636  3.11x |    620923  1.65x |    279244 0.741x | 3.17x
  32x  32x 512 |    378627     -- |   1136748     3x |   1193408  3.15x |   1191833  3.15x |    621722  1.64x |    271496 0.717x | 3.15x
  64x  64x   8 |    408076     -- |   4504564    11x |   4222004  10.3x |   4182688  10.2x |   4051167  9.93x |   3947892  9.67x | 11x
  64x  64x  16 |    413717     -- |   2371729  5.73x |   1893305  4.58x |   1882798  4.55x |   1838629  4.44x |   1730294  4.18x | 5.73x
  64x  64x 128 |    383697     -- |   1012067  2.64x |    864008  2.25x |    861989  2.25x |    815113  2.12x |    788595  2.06x | 2.64x
  64x  64x 256 |    378053     -- |   1006003  2.66x |    857732  2.27x |    856561  2.27x |    826333  2.19x |    797716  2.11x | 2.66x
  64x  64x 512 |    370316     -- |    989343  2.67x |    840366  2.27x |    842583  2.28x |    811259  2.19x |    786340  2.12x | 2.67x
 128x 128x   8 |    406629     -- |   5718904  14.1x |   5259453  12.9x |   4208131  10.3x |   3765936  9.26x |   4085106    10x | 14.1x
 128x 128x  16 |    414117     -- |   2527349   6.1x |   1969414  4.76x |   1750833  4.23x |   1747368  4.22x |   1761614  4.25x | 6.1x
 128x 128x 128 |    376094     -- |   1005558  2.67x |    854242  2.27x |    793072  2.11x |    710549  1.89x |    768588  2.04x | 2.67x
 128x 128x 256 |    373294     -- |    999031  2.68x |    851376  2.28x |    796403  2.13x |    768435  2.06x |    799343  2.14x | 2.68x
 128x 128x 512 |    370178     -- |    990329  2.68x |    830847  2.24x |    778595   2.1x |    759683  2.05x |    787166  2.13x | 2.68x
 256x 256x   8 |    407687     -- |   6865899  16.8x |   5749630  14.1x |   4506256  11.1x |   4587991  11.3x |   4189201  10.3x | 16.8x
 256x 256x  16 |    410908     -- |   2573259  6.26x |   1986754  4.84x |   1788792  4.35x |   1775907  4.32x |   1769437  4.31x | 6.26x
 256x 256x 128 |    375408     -- |   1001874  2.67x |    845324  2.25x |    776841  2.07x |    751442     2x |    792055  2.11x | 2.67x
 256x 256x 256 |    372199     -- |    996773  2.68x |    846548  2.27x |    781730   2.1x |    757656  2.04x |    798340  2.14x | 2.68x
 256x 256x 512 |    370253     -- |    994470  2.69x |    825578  2.23x |    764522  2.06x |    744406  2.01x |    788218  2.13x | 2.69x
 374x 374x   8 |    398439     -- |   7061950  17.7x |   5859301  14.7x |   4564046  11.5x |   4690852  11.8x |   4190451  10.5x | 17.7x
 374x 374x  16 |    404574     -- |   2584240  6.39x |   1992365  4.92x |   1795441  4.44x |   1779576   4.4x |   1773977  4.38x | 6.39x
 374x 374x 128 |    375427     -- |   1002082  2.67x |    844907  2.25x |    777833  2.07x |    750988     2x |    794183  2.12x | 2.67x
 374x 374x 256 |    371371     -- |    997271  2.69x |    846809  2.28x |    782285  2.11x |    757093  2.04x |    800679  2.16x | 2.69x
 374x 374x 512 |    370219     -- |    991911  2.68x |    824786  2.23x |    764572  2.07x |    743693  2.01x |    790830  2.14x | 2.68x
 512x 512x   8 |    400452     -- |   7148794  17.9x |   5904294  14.7x |   4588066  11.5x |   4732050  11.8x |   4228031  10.6x | 17.9x
 512x 512x  16 |    404575     -- |   2591370  6.41x |   1995472  4.93x |   1796255  4.44x |   1780763   4.4x |   1776559  4.39x | 6.41x
 512x 512x 128 |    375489     -- |   1002951  2.67x |    845806  2.25x |    777993  2.07x |    749826     2x |    793371  2.11x | 2.67x
 512x 512x 256 |    371658     -- |    996840  2.68x |    846023  2.28x |    781927   2.1x |    755681  2.03x |    799348  2.15x | 2.68x
 512x 512x 512 |    370118     -- |    994127  2.69x |    824101  2.23x |    764524  2.07x |    741802     2x |    788746  2.13x | 2.69x
 768x 768x   8 |    397074     -- |   7215359  18.2x |   5915421  14.9x |   4587237  11.6x |   4789617  12.1x |   4220175  10.6x | 18.2x
 768x 768x  16 |    402763     -- |   2594193  6.44x |   1995744  4.96x |   1800784  4.47x |   1784986  4.43x |   1781993  4.42x | 6.44x
 768x 768x 128 |    375573     -- |   1002978  2.67x |    845272  2.25x |    777086  2.07x |    750254     2x |    794323  2.11x | 2.67x
 768x 768x 256 |    370532     -- |    997283  2.69x |    845890  2.28x |    781727  2.11x |    755961  2.04x |    801393  2.16x | 2.69x
 768x 768x 512 |    370242     -- |             fail |             fail |             fail |             fail |             fail 
1024x1024x   8 |    396833     -- |             fail |   5991494  15.1x |   4603315  11.6x |   4756224    12x |   4216268  10.6x | 15.1x
1024x1024x  16 |    404124     -- |   2600303  6.43x |   1995600  4.94x |   1801712  4.46x |   1788219  4.42x |   1784683  4.42x | 6.43x
1024x1024x 128 |    374131     -- |   1003178  2.68x |    845009  2.26x |    777027  2.08x |    750285  2.01x |    796018  2.13x | 2.68x
1024x1024x 256 |    371637     -- |             fail |             fail |             fail |             fail |             fail 
1024x1024x 512 |             fail |             fail |             fail |             fail |             fail |             fail 
2048x2048x   8 |    395575     -- |             fail |   6000890  15.2x |   4603034  11.6x |   4815942  12.2x |   4244518  10.7x | 15.2x
2048x2048x  16 |    403917     -- |             fail |   2002397  4.96x |   1805577  4.47x |   1790645  4.43x |   1790790  4.43x | 4.96x

__shared__ vec:
          size |         cpu mops |      cuda64 mops |     cuda128 mops |     cuda256 mops |     cuda512 mops |    cuda1024 mops | best
  32x  32x   8 |    406266     -- |   2915216  7.18x |   2912259  7.17x |   2790455  6.87x |   2308436  5.68x |   1141014  2.81x | 7.18x
  32x  32x  16 |    403285     -- |   3034144  7.52x |   3046673  7.55x |   2988284  7.41x |   1325882  3.29x |    590265  1.46x | 7.55x
  32x  32x 128 |    382742     -- |   1188179   3.1x |   1188282   3.1x |   1183638  3.09x |    623952  1.63x |    279548  0.73x | 3.1x
  32x  32x 256 |    379729     -- |   1199646  3.16x |   1199849  3.16x |   1197894  3.15x |    623568  1.64x |    280722 0.739x | 3.16x
  32x  32x 512 |    378261     -- |   1134551     3x |   1199125  3.17x |   1196680  3.16x |    624444  1.65x |    278930 0.737x | 3.17x
  64x  64x   8 |    407731     -- |   4395011  10.8x |   4221385  10.4x |   4202207  10.3x |   4098548  10.1x |   3921083  9.62x | 10.8x
  64x  64x  16 |    413592     -- |   2399657   5.8x |   1943713   4.7x |   1924643  4.65x |   1894426  4.58x |   1772562  4.29x | 5.8x
  64x  64x 128 |    383975     -- |   1026839  2.67x |    877296  2.28x |    874218  2.28x |    821462  2.14x |    794726  2.07x | 2.67x
  64x  64x 256 |    379132     -- |   1004396  2.65x |    859068  2.27x |    865998  2.28x |    833731   2.2x |    804045  2.12x | 2.65x
  64x  64x 512 |    368619     -- |   1002079  2.72x |    854629  2.32x |    856291  2.32x |    822502  2.23x |    793405  2.15x | 2.72x
 128x 128x   8 |    406171     -- |   5819608  14.3x |   5222501  12.9x |   4311567  10.6x |   4173258  10.3x |   4109554  10.1x | 14.3x
 128x 128x  16 |    402279     -- |   2558199  6.36x |   1998244  4.97x |   1769553   4.4x |   1762869  4.38x |   1789298  4.45x | 6.36x
 128x 128x 128 |    375774     -- |   1023393  2.72x |    868945  2.31x |    804865  2.14x |    737513  1.96x |    800359  2.13x | 2.72x
 128x 128x 256 |    373350     -- |   1013454  2.71x |    862598  2.31x |    804305  2.15x |    763119  2.04x |    805366  2.16x | 2.71x
 128x 128x 512 |    370144     -- |   1018495  2.75x |    848310  2.29x |    791724  2.14x |    769609  2.08x |    794436  2.15x | 2.75x
 256x 256x   8 |    408336     -- |   6822871  16.7x |   5884654  14.4x |   4683798  11.5x |   4758166  11.7x |   4228857  10.4x | 16.7x
 256x 256x  16 |    412184     -- |   2626540  6.37x |   2022166  4.91x |   1817026  4.41x |   1802375  4.37x |   1811115  4.39x | 6.37x
 256x 256x 128 |    375236     -- |   1025573  2.73x |    862492   2.3x |    789718   2.1x |    763197  2.03x |    800576  2.13x | 2.73x
 256x 256x 256 |    370885     -- |   1013721  2.73x |    858612  2.32x |    791489  2.13x |    766352  2.07x |    804789  2.17x | 2.73x
 256x 256x 512 |    370319     -- |   1026529  2.77x |    844013  2.28x |    778987   2.1x |    755880  2.04x |    795449  2.15x | 2.77x
 374x 374x   8 |    401370     -- |   7042172  17.5x |   6014718    15x |   4753768  11.8x |   4873679  12.1x |   4247441  10.6x | 17.5x
 374x 374x  16 |    404939     -- |   2638912  6.52x |   2025449     5x |   1823933   4.5x |   1806078  4.46x |   1822220   4.5x | 6.52x
 374x 374x 128 |    374948     -- |   1026040  2.74x |    862305   2.3x |    791282  2.11x |    763522  2.04x |    803039  2.14x | 2.74x
 374x 374x 256 |    372445     -- |   1013973  2.72x |    860156  2.31x |    792673  2.13x |    765745  2.06x |    807103  2.17x | 2.72x
 374x 374x 512 |    370477     -- |   1028026  2.77x |    843421  2.28x |    778635   2.1x |    755971  2.04x |    797476  2.15x | 2.77x
 512x 512x   8 |    401345     -- |   7127387  17.8x |   6052192  15.1x |   4783259  11.9x |   4915872  12.2x |   4259120  10.6x | 17.8x
 512x 512x  16 |    404632     -- |   2647046  6.54x |   2029800  5.02x |   1827536  4.52x |   1806918  4.47x |   1827326  4.52x | 6.54x
 512x 512x 128 |    375259     -- |   1027656  2.74x |    863374   2.3x |    792049  2.11x |    762120  2.03x |    802148  2.14x | 2.74x
 512x 512x 256 |    372451     -- |   1013751  2.72x |    859339  2.31x |    792284  2.13x |    764407  2.05x |    805543  2.16x | 2.72x
 512x 512x 512 |    369409     -- |   1022561  2.77x |    842576  2.28x |    779100  2.11x |    753552  2.04x |    795855  2.15x | 2.77x
 768x 768x   8 |    397133     -- |   7192953  18.1x |   6095913  15.3x |   4787100  12.1x |   4978799  12.5x |   4254571  10.7x | 18.1x
 768x 768x  16 |    404015     -- |   2656228  6.57x |   2030625  5.03x |   1828703  4.53x |   1812632  4.49x |   1832975  4.54x | 6.57x
 768x 768x 128 |    375215     -- |   1026914  2.74x |    862536   2.3x |    791421  2.11x |    762791  2.03x |    802987  2.14x | 2.74x
 768x 768x 256 |    372572     -- |   1014106  2.72x |    859192  2.31x |    791826  2.13x |    764943  2.05x |    807456  2.17x | 2.72x
 768x 768x 512 |    370096     -- |             fail |             fail |             fail |             fail |             fail 
1024x1024x   8 |    397133     -- |             fail |   6169701  15.5x |   4807658  12.1x |   4997962  12.6x |   4268271  10.7x | 15.5x
1024x1024x  16 |    404324     -- |   2656735  6.57x |   2029161  5.02x |   1831168  4.53x |   1817855   4.5x |   1838416  4.55x | 6.57x
1024x1024x 128 |    375355     -- |   1027451  2.74x |    862923   2.3x |    791469  2.11x |    762819  2.03x |    804835  2.14x | 2.74x
1024x1024x 256 |    369861     -- |             fail |             fail |             fail |             fail |             fail 
1024x1024x 512 |             fail |             fail |             fail |             fail |             fail |             fail 
2048x2048x   8 |    396562     -- |             fail |   6186755  15.6x |   4815886  12.1x |   5002995  12.6x |   4286798  10.8x | 15.6x
2048x2048x  16 |    404076     -- |             fail |   2037625  5.04x |   1834752  4.54x |   1818235   4.5x |   1842606  4.56x | 5.04x



2014/02/03 --- repeated vector multiply ----------------------------------------------------------------------------------------
-------------- i7, GTX 550 Ti, ubuntu32 ----------------------------------------------------------------------------------------

          size |         cpu mops |      cuda64 mops |     cuda128 mops |     cuda256 mops |     cuda512 mops |    cuda1024 mops 
  32x  32x   1 |   1235810     -- |    689725 0.558x |    697524 0.564x |    698963 0.566x |    685472 0.555x |    641914 0.519x 
  64x  64x   1 |   1224650     -- |   2028038  1.66x |   2409321  1.97x |   2426494  1.98x |   2430079  1.98x |   2406032  1.96x 
 128x 128x   1 |   1227203     -- |   3434787   2.8x |   5089335  4.15x |   5550000  4.52x |   5419299  4.42x |   4284939  3.49x 
 256x 256x   1 |   1225206     -- |   3206769  2.62x |   5151946   4.2x |   6065349  4.95x |   5940906  4.85x |   3992994  3.26x 
 374x 374x   1 |   1255723     -- |   3303388  2.63x |   5563898  4.43x |   6697562  5.33x |   6510207  5.18x |   4101506  3.27x 
 512x 512x   1 |   1252850     -- |   3386017   2.7x |   5752691  4.59x |   7002051  5.59x |   6782771  5.41x |   4235774  3.38x 
 768x 768x   1 |   1249154     -- |   3412162  2.73x |   5881226  4.71x |   7224704  5.78x |   6979648  5.59x |   4299909  3.44x 
1024x1024x   1 |   1212128     -- |   3432543  2.83x |   5918256  4.88x |   7290121  6.01x |   7050829  5.82x |   4316281  3.56x 
2048x2048x   1 |   1151882     -- |             fail |   5958915  5.17x |   7436311  6.46x |   7034225  6.11x |   4331907  3.76x 
4096x4096x   1 |   1149239     -- |             fail |             fail |             fail |   7110312  6.19x |   4357113  3.79x 


2014/02/03 --- repeated vector multiply ----------------------------------------------------------------------------------------
-------------- TP W530, Quadro K1000M, ubuntu64 --------------------------------------------------------------------------------

          size |         cpu mops |      cuda64 mops |     cuda128 mops |     cuda256 mops |     cuda512 mops |    cuda1024 mops 
  32x  32x   1 |   1641461     -- |    283129 0.172x |    284666 0.173x |    287422 0.175x |    288561 0.176x |    290345 0.177x 
  64x  64x   1 |   1646813     -- |    718584 0.436x |    867974 0.527x |    858368 0.521x |    825283 0.501x |    799958 0.486x 
 128x 128x   1 |   1652755     -- |   1182218 0.715x |   1772167  1.07x |   1672005  1.01x |   1503114 0.909x |   1302316 0.788x 
 256x 256x   1 |   1653392     -- |   1030157 0.623x |   1780711  1.08x |   1658596     1x |   1486862 0.899x |   1234446 0.747x 
 374x 374x   1 |   1648189     -- |   1058039 0.642x |   1852003  1.12x |   1714348  1.04x |   1545573 0.938x |   1263098 0.766x 
 512x 512x   1 |   1639611     -- |   1072674 0.654x |   1880901  1.15x |   1756778  1.07x |   1582473 0.965x |   1279954 0.781x 
 768x 768x   1 |   1517699     -- |   1084912 0.715x |   1945799  1.28x |   1807724  1.19x |   1628444  1.07x |   1295203 0.853x 
1024x1024x   1 |    940209     -- |   1087399  1.16x |   1940467  2.06x |   1805877  1.92x |   1628375  1.73x |   1295001  1.38x 
2048x2048x   1 |    744869     -- |             fail |   1973155  2.65x |   1833562  2.46x |   1661313  2.23x |   1302474  1.75x 
4096x4096x   1 |    703296     -- |             fail |             fail |             fail |   1637156  2.33x |   1303682  1.85x 






2014/02/03 --- all basic SOM functions -----------------------------------------------------------------------------------------
-------------- i7, GTX 550 Ti, ubuntu32 ----------------------------------------------------------------------------------------

benchmark: insert into map (radius = half sidelength)
          size |         cpu mops |      cuda64 mops |     cuda128 mops |     cuda256 mops |     cuda512 mops |    cuda1024 mops | best
  32x  32x   8 |    599898     -- |   2048818  3.42x |   2039996   3.4x |   2039008   3.4x |   2040463   3.4x |   2041049   3.4x | 3.42x
  32x  32x  16 |    526626     -- |   2562288  4.87x |   2561032  4.86x |   2562416  4.87x |   2564116  4.87x |   2561244  4.86x | 4.87x
  32x  32x 128 |    353638     -- |   2429104  6.87x |   2422058  6.85x |   2418623  6.84x |   2424241  6.86x |   2422404  6.85x | 6.87x
  32x  32x 256 |    342333     -- |   2354283  6.88x |   2353438  6.87x |   2361895   6.9x |   2360572   6.9x |   2352159  6.87x | 6.9x
  32x  32x 512 |    362133     -- |   2385473  6.59x |   2384559  6.58x |   2384040  6.58x |   2369102  6.54x |   2367107  6.54x | 6.59x
  32x  32x1024 |    321690     -- |   2410288  7.49x |   2380182   7.4x |   2356256  7.32x |   2394454  7.44x |   2376240  7.39x | 7.49x
  32x  32x2048 |    270340     -- |   2380627  8.81x |   2355159  8.71x |   2359120  8.73x |   2354564  8.71x |   2360080  8.73x | 8.81x
  64x  64x   8 |    632878     -- |   7535107  11.9x |   7513471  11.9x |   7393360  11.7x |   7542197  11.9x |   7413684  11.7x | 11.9x
  64x  64x  16 |    406937     -- |   9896069  24.3x |   9925272  24.4x |   9791788  24.1x |   9965937  24.5x |   9902964  24.3x | 24.5x
  64x  64x 128 |    303551     -- |   8223312  27.1x |   8183564    27x |   8145201  26.8x |   8257813  27.2x |   8204941    27x | 27.2x
  64x  64x 256 |    306243     -- |   8524485  27.8x |   8404070  27.4x |   8469461  27.7x |   8354986  27.3x |   8289626  27.1x | 27.8x
  64x  64x 512 |    232843     -- |   8230723  35.3x |   8207531  35.2x |   8103792  34.8x |   8415776  36.1x |   8149530    35x | 36.1x
  64x  64x1024 |    137135     -- |   8217361  59.9x |   8038359  58.6x |   8294224  60.5x |   7929481  57.8x |   7843242  57.2x | 60.5x
  64x  64x2048 |    137112     -- |   7945516  57.9x |   8178981  59.7x |   8635109    63x |   8083870    59x |   7933933  57.9x | 63x
 128x 128x   8 |    455893     -- |   8544977  18.7x |   8634392  18.9x |   8396601  18.4x |   8576282  18.8x |   8622082  18.9x | 18.9x
 128x 128x  16 |    348584     -- |   8666975  24.9x |   8631901  24.8x |   8680801  24.9x |   8655032  24.8x |   8594767  24.7x | 24.9x
 128x 128x 128 |    305647     -- |   9722905  31.8x |   9142514  29.9x |   9474247    31x |   9616132  31.5x |   9207988  30.1x | 31.8x
 128x 128x 256 |    292137     -- |   8957162  30.7x |   9302237  31.8x |   9235883  31.6x |   9216736  31.5x |   9425653  32.3x | 32.3x
 128x 128x 512 |    191215     -- |   8882338  46.5x |   8950749  46.8x |   9675082  50.6x |   9292813  48.6x |   9786796  51.2x | 51.2x
 128x 128x1024 |    117541     -- |   9564022  81.4x |  11435850  97.3x |   9166900    78x |   8921505  75.9x |   9656073  82.2x | 97.3x
 128x 128x2048 |    108085     -- |   9205836  85.2x |  10961400   101x |   8826052  81.7x |  10682868  98.8x |   9671184  89.5x | 101x
 256x 256x   8 |    460804     -- |   9094462  19.7x |   9258789  20.1x |   8819934  19.1x |   9147263  19.9x |   8962554  19.4x | 20.1x
 256x 256x  16 |    302517     -- |  10048503  33.2x |  10266763  33.9x |   9751868  32.2x |  10387728  34.3x |   9767466  32.3x | 34.3x
 256x 256x 128 |    268507     -- |  10432359  38.9x |   9955927  37.1x |  10821160  40.3x |  11756771  43.8x |   9500032  35.4x | 43.8x
 256x 256x 256 |    174240     -- |  11450914  65.7x |   9655067  55.4x |   9174544  52.7x |  13394277  76.9x |  12579399  72.2x | 76.9x
 256x 256x 512 |    143107     -- |  11153070  77.9x |   9379199  65.5x |   8024041  56.1x |   8660332  60.5x |   8998075  62.9x | 77.9x
 256x 256x1024 |     89029     -- |  10718028   120x |   8308303  93.3x |  10903910   122x |   9575944   108x |  10136976   114x | 122x
 256x 256x2048 |     80617     -- |   7777393  96.5x |   5104645  63.3x |   5610128  69.6x |   5624730  69.8x |   8037158  99.7x | 99.7x
 374x 374x   8 |    672387     -- |   9278074  13.8x |   9092417  13.5x |   8771055    13x |   8887906  13.2x |   9432113    14x | 14x
 374x 374x  16 |    952373     -- |   9762653  10.3x |   9877176  10.4x |   9893405  10.4x |   9813515  10.3x |   9848125  10.3x | 10.4x
 374x 374x 128 |   1038642     -- |  10718976  10.3x |  10716814  10.3x |   8794191  8.47x |  10435382    10x |  11042845  10.6x | 10.6x
 374x 374x 256 |   1517379     -- |  10291362  6.78x |  14173452  9.34x |  11895077  7.84x |  12168611  8.02x |  10385966  6.84x | 9.34x
 374x 374x 512 |    650394     -- |  12368432    19x |   8935052  13.7x |  12339248    19x |   9233714  14.2x |  14345825  22.1x | 22.1x
 374x 374x1024 |    182154     -- |   3967371  21.8x |   5143785  28.2x |   4762841  26.1x |   3828961    21x |   3662035  20.1x | 28.2x
 374x 374x2048 |    128162     -- |             fail |             fail |             fail |             fail |             fail |
 512x 512x   8 |    325366     -- |             fail |   9817304  30.2x |   9845978  30.3x |   9971477  30.6x |   9475474  29.1x | 30.6x
 512x 512x  16 |    302185     -- |   9951812  32.9x |  10773253  35.7x |   9802081  32.4x |  11039045  36.5x |  11813650  39.1x | 39.1x
 512x 512x 128 |    230955     -- |  12942227    56x |   9511777  41.2x |  16534330  71.6x |  17103111  74.1x |  13391093    58x | 74.1x
 512x 512x 256 |    153563     -- |  11121959  72.4x |  11774492  76.7x |  13365635    87x |  10770252  70.1x |   8510787  55.4x | 87x
 512x 512x 512 |     78279     -- |   5492350  70.2x |   5610061  71.7x |   7663720  97.9x |   8337070   107x |   7733339  98.8x | 107x
 512x 512x1024 |     88654     -- |             fail |             fail |             fail |             fail |             fail |
 512x 512x2048 failed to init data
 768x 768x   8 |    404818     -- |             fail |   8887062    22x |   8982272  22.2x |   9943146  24.6x |   8748229  21.6x | 24.6x
 768x 768x  16 |    244497     -- |  10339180  42.3x |   8664672  35.4x |   9906022  40.5x |   8174252  33.4x |  10617503  43.4x | 43.4x
 768x 768x 128 |    142290     -- |   7251728    51x |   7697829  54.1x |  10971948  77.1x |  10745236  75.5x |   7728700  54.3x | 77.1x
 768x 768x 256 |    157299     -- |   6099960  38.8x |   5875441  37.4x |   5658889    36x |   4970114  31.6x |   7167045  45.6x | 45.6x
 768x 768x 512 |    109923     -- |             fail |             fail |             fail |             fail |             fail |
 768x 768x1024 failed to init data
 768x 768x2048 failed to init data
1024x1024x   8 |    342205     -- |             fail |   9600066  28.1x |   8652978  25.3x |   9411535  27.5x |   9363720  27.4x | 28.1x
1024x1024x  16 |    211457     -- |  12235575  57.9x |   8284954  39.2x |  10277105  48.6x |  10292046  48.7x |   9967569  47.1x | 57.9x
1024x1024x 128 |     72251     -- |   4586297  63.5x |   3983207  55.1x |   9324196   129x |   4891805  67.7x |   7330040   101x | 129x
1024x1024x 256 |     58996     -- |             fail |             fail |             fail |             fail |             fail |
1024x1024x 512 failed to init data
1024x1024x1024 failed to init data
1024x1024x2048 failed to init data

benchmark: difference map
          size |         cpu mops |      cuda64 mops |     cuda128 mops |     cuda256 mops |     cuda512 mops |    cuda1024 mops | best
  32x  32x   8 |    394021     -- |             fail |   3353783  8.51x |   3395098  8.62x |   3221326  8.18x |   2782727  7.06x | 8.62x
  32x  32x  16 |    401028     -- |   4848091  12.1x |   4778524  11.9x |   4835897  12.1x |   4639408  11.6x |   3906476  9.74x | 12.1x
  32x  32x 128 |    352112     -- |   4935661    14x |   4884169  13.9x |   4855587  13.8x |   4627874  13.1x |   4259381  12.1x | 14x
  32x  32x 256 |    355890     -- |   5112361  14.4x |   5054018  14.2x |   5076844  14.3x |   4868666  13.7x |   4355303  12.2x | 14.4x
  32x  32x 512 |    352475     -- |   5214165  14.8x |   5148140  14.6x |   5149028  14.6x |   4936508    14x |   4381277  12.4x | 14.8x
  64x  64x   8 |    393681     -- |   7995695  20.3x |   8903339  22.6x |   8348447  21.2x |   9316988  23.7x |   9734535  24.7x | 24.7x
  64x  64x  16 |    380793     -- |  10732709  28.2x |  12196912    32x |  11600785  30.5x |  11834167  31.1x |  12456228  32.7x | 32.7x
  64x  64x 128 |    351883     -- |   9575300  27.2x |  14082163    40x |  12889247  36.6x |  13363313    38x |  14531868  41.3x | 41.3x
  64x  64x 256 |    164091     -- |   9725642  59.3x |  14679958  89.5x |  13811150  84.2x |  14028869  85.5x |  15106080  92.1x | 92.1x
  64x  64x 512 |    159301     -- |   9783392  61.4x |  14988875  94.1x |  14356702  90.1x |  14676941  92.1x |  15305437  96.1x | 96.1x
 128x 128x   8 |    388400     -- |   7269710  18.7x |  10256911  26.4x |  11098833  28.6x |  11230974  28.9x |  10194311  26.2x | 28.9x
 128x 128x  16 |    378230     -- |   8215655  21.7x |  11835800  31.3x |  12841794    34x |  13056398  34.5x |  12214191  32.3x | 34.5x
 128x 128x 128 |    156324     -- |   9220044    59x |  13615212  87.1x |  15401487  98.5x |  15549692  99.5x |  14219573    91x | 99.5x
 128x 128x 256 |    151987     -- |   9355757  61.6x |  14178743  93.3x |  15308470   101x |  15876287   104x |  14550856  95.7x | 104x
 128x 128x 512 |    118096     -- |   9389516  79.5x |  14327235   121x |  15928815   135x |  15958744   135x |  14511259   123x | 135x
 256x 256x   8 |    388089     -- |   7869236  20.3x |  11795582  30.4x |  13485292  34.7x |  13383245  34.5x |  11070029  28.5x | 34.7x
 256x 256x  16 |    172665     -- |   8603201  49.8x |  12862612  74.5x |  14772237  85.6x |  14445310  83.7x |  12643218  73.2x | 85.6x
 256x 256x 128 |    146960     -- |   9389995  63.9x |  14166828  96.4x |  16004978   109x |  16283965   111x |  13817483    94x | 111x
 256x 256x 256 |    121303     -- |   9450015  77.9x |  14143450   117x |  16057825   132x |  16436874   136x |  14351322   118x | 136x
 256x 256x 512 |     79170     -- |   9478851   120x |  14212547   180x |  16008392   202x |  16406133   207x |  14302796   181x | 207x
 374x 374x   8 |    393541     -- |   7467884    19x |  11356013  28.9x |  12274869  31.2x |  12455102  31.6x |   9845425    25x | 31.6x
 374x 374x  16 |    398422     -- |   8290623  20.8x |  12123287  30.4x |  13020006  32.7x |  13335882  33.5x |  11364556  28.5x | 33.5x
 374x 374x 128 |    238562     -- |   8889376  37.3x |  13095670  54.9x |  12826339  53.8x |  13209685  55.4x |  13102697  54.9x | 55.4x
 374x 374x 256 |    237320     -- |   8926831  37.6x |  13112691  55.3x |  12251793  51.6x |  12849129  54.1x |  13242832  55.8x | 55.8x
 374x 374x 512 |    228467     -- |   8930741  39.1x |  12814270  56.1x |  11188698    49x |  11996766  52.5x |  13284359  58.1x | 58.1x
 512x 512x   8 |    283913     -- |   8165420  28.8x |  12465315  43.9x |  13780484  48.5x |  14144083  49.8x |  11432698  40.3x | 49.8x
 512x 512x  16 |    168350     -- |   8896808  52.8x |  13565612  80.6x |  14751210  87.6x |  15218771  90.4x |  13405214  79.6x | 90.4x
 512x 512x 128 |    113819     -- |   9643222  84.7x |  14813700   130x |  16051046   141x |  16240539   143x |  15626056   137x | 143x
 512x 512x 256 |     76888     -- |   9501295   124x |  14843179   193x |  15950709   207x |  16290888   212x |  15811567   206x | 212x
 512x 512x 512 |     62467     -- |   8029059   129x |  10780311   173x |  10668207   171x |  10663753   171x |  10149744   162x | 173x
 768x 768x   8 |    375218     -- |   8073285  21.5x |  12801857  34.1x |  14699057  39.2x |  14355077  38.3x |  11291427  30.1x | 39.2x
 768x 768x  16 |    169069     -- |   8700400  51.5x |  13823812  81.8x |  15567570  92.1x |  15415862  91.2x |  12914761  76.4x | 92.1x
 768x 768x 128 |    109152     -- |   9304334  85.2x |  14850738   136x |  15939385   146x |  16178073   148x |  14475446   133x | 148x
 768x 768x 256 |     77609     -- |   8125189   105x |  11429809   147x |  11190100   144x |  11216845   145x |  10453893   135x | 147x
 768x 768x 512 |             fail |             fail |             fail |             fail |             fail |             fail |
1024x1024x   8 |    280683     -- |             fail |  12581766  44.8x |  14120629  50.3x |  14314169    51x |  11497321    41x | 51x
1024x1024x  16 |    129640     -- |   8932224  68.9x |  13564780   105x |  15037826   116x |  15097471   116x |  13333388   103x | 116x
1024x1024x 128 |     62001     -- |   7983923   129x |  10852929   175x |  10820527   175x |  10834692   175x |  10071860   162x | 175x
1024x1024x 256 |             fail |             fail |             fail |             fail |             fail |             fail |
1024x1024x 512 failed to init data
2048x2048x   8 |    279776     -- |             fail |  12662877  45.3x |  14564578  52.1x |  14416245  51.5x |  11423344  40.8x | 52.1x
2048x2048x  16 |    110498     -- |             fail |  13686727   124x |  15340904   139x |  15338150   139x |  13452983   122x | 139x
2048x2048x 128 failed to init data
2048x2048x 256 failed to init data
2048x2048x 512 failed to init data
4096x4096x   8 |    254456     -- |             fail |             fail |             fail |  10362515  40.7x |   8391337    33x | 40.7x

benchmark: bestmatch in dmap
          size |         cpu mops |     cuda256 mops | best
  32x  32x   1 |    622643     -- |     53817 0.086x | 0.0881x
  64x  64x   1 |    743034     -- |    212359 0.286x | 0.298x
 128x 128x   1 |    675947     -- |    879829   1.3x | 1.3x
 256x 256x   1 |    674212     -- |   1899608  2.82x | 4.58x
 374x 374x   1 |    645241     -- |   4634549  7.18x | 7.23x
 512x 512x   1 |    645597     -- |   6498800  10.1x | 10.1x
 768x 768x   1 |    682362     -- |   8728612  12.8x | 13x
1024x1024x   1 |    653435     -- |  10094961  15.4x | 15.7x
2048x2048x   1 |    709370     -- |  11752108  16.6x | 16.6x


2014/02/03 --- all basic SOM functions -----------------------------------------------------------------------------------------
-------------- TP W530, Quadro K1000M, ubuntu64 --------------------------------------------------------------------------------

benchmark: bestmatch in dmap
          size |         cpu mops |     cuda256 mops | best
  32x  32x   1 |    651300     -- |     16953 0.026x | 0.026x
  64x  64x   1 |    665482     -- |     67966 0.102x | 0.102x
 128x 128x   1 |    643508     -- |    259542 0.403x | 0.403x
 256x 256x   1 |    651569     -- |    822792  1.26x | 1.26x
 374x 374x   1 |    656238     -- |   1209580  1.84x | 1.84x
 512x 512x   1 |    647785     -- |   1578636  2.44x | 2.44x
 768x 768x   1 |    645367     -- |   1996241  3.09x | 3.09x
1024x1024x   1 |    658845     -- |   2280496  3.46x | 3.46x
2048x2048x   1 |    646950     -- |   2545670  3.93x | 3.93x
defgsus@schleppi:~/prog/qt_project/reaktor_som/rsom$ optirun bin/linux/rsom 

benchmark: insert into map (radius = half sidelength)
          size |         cpu mops |      cuda64 mops |     cuda128 mops |     cuda256 mops |     cuda512 mops |    cuda1024 mops | best
  32x  32x   8 |    602974     -- |   1201184  1.99x |   1199192  1.99x |   1199021  1.99x |   1200091  1.99x |   1199333  1.99x | 1.99x
  32x  32x  16 |    510726     -- |   1618305  3.17x |   1617344  3.17x |   1619468  3.17x |   1618242  3.17x |   1617382  3.17x | 3.17x
  32x  32x 128 |    323875     -- |   1401013  4.33x |   1396557  4.31x |   1400354  4.32x |   1393417   4.3x |   1394434  4.31x | 4.33x
  32x  32x 256 |    314850     -- |   1422054  4.52x |   1413813  4.49x |   1426861  4.53x |   1426837  4.53x |   1418124   4.5x | 4.53x
  32x  32x 512 |    319890     -- |   1437517  4.49x |   1444107  4.51x |   1442692  4.51x |   1433799  4.48x |   1431370  4.47x | 4.51x
  32x  32x1024 |    263017     -- |   1463454  5.56x |   1442553  5.48x |   1433558  5.45x |   1446100   5.5x |   1436006  5.46x | 5.56x
  32x  32x2048 |    252627     -- |   1451618  5.75x |   1439834   5.7x |   1439540   5.7x |   1434823  5.68x |   1444337  5.72x | 5.75x
  64x  64x   8 |    610612     -- |   2747555   4.5x |   2743688  4.49x |   2717602  4.45x |   2735207  4.48x |   2724464  4.46x | 4.5x
  64x  64x  16 |    440049     -- |   3443619  7.83x |   3431379   7.8x |   3430293   7.8x |   3465067  7.87x |   3443764  7.83x | 7.87x
  64x  64x 128 |    285898     -- |   2885684  10.1x |   2854039  9.98x |   2896912  10.1x |   2904214  10.2x |   2904265  10.2x | 10.2x
  64x  64x 256 |    243975     -- |   2989852  12.3x |   2944891  12.1x |   2988128  12.2x |   2923016    12x |   2958270  12.1x | 12.3x
  64x  64x 512 |    175868     -- |   2941192  16.7x |   2912049  16.6x |   2929790  16.7x |   2989056    17x |   2942510  16.7x | 17x
  64x  64x1024 |    119085     -- |   2946528  24.7x |   2913642  24.5x |   2981552    25x |   2876261  24.2x |   2869962  24.1x | 25x
  64x  64x2048 |    112718     -- |   2875190  25.5x |   3015725  26.8x |   3072102  27.3x |   2994340  26.6x |   2915426  25.9x | 27.3x
 128x 128x   8 |    541697     -- |   2817558   5.2x |   2820188  5.21x |   2789132  5.15x |   2814984   5.2x |   2838857  5.24x | 5.24x
 128x 128x  16 |    399147     -- |   3116956  7.81x |   3093297  7.75x |   3133937  7.85x |   3098520  7.76x |   3137980  7.86x | 7.86x
 128x 128x 128 |    250359     -- |   3640286  14.5x |   3385070  13.5x |   3537833  14.1x |   3599234  14.4x |   3428694  13.7x | 14.5x
 128x 128x 256 |    142889     -- |   3345978  23.4x |   3429307    24x |   3447982  24.1x |   3420229  23.9x |   3599502  25.2x | 25.2x
 128x 128x 512 |     99507     -- |   3397219  34.1x |   3419450  34.4x |   3741637  37.6x |   3579597    36x |   3637959  36.6x | 37.6x
 128x 128x1024 |     75167     -- |   3717104  49.5x |   4576926  60.9x |   3531154    47x |   3500445  46.6x |   3519101  46.8x | 60.9x
 128x 128x2048 |     76358     -- |   3470631  45.5x |   4314116  56.5x |   3517443  46.1x |   4190356  54.9x |   3987258  52.2x | 56.5x
 256x 256x   8 |    533067     -- |   3249752   6.1x |   3321530  6.23x |   3203133  6.01x |   3264979  6.12x |   3185811  5.98x | 6.23x
 256x 256x  16 |    230323     -- |   3518378  15.3x |   3636781  15.8x |   3520062  15.3x |   3649344  15.8x |   3446824    15x | 15.8x
 256x 256x 128 |    180422     -- |   3702839  20.5x |   3527627  19.6x |   3850654  21.3x |   4115533  22.8x |   3372149  18.7x | 22.8x
 256x 256x 256 |    119791     -- |   4208314  35.1x |   3610985  30.1x |   3277213  27.4x |   4882601  40.8x |   4465747  37.3x | 40.8x
 256x 256x 512 |     99764     -- |   4155800  41.7x |   3588334    36x |   3062504  30.7x |   3358205  33.7x |   3323840  33.3x | 41.7x
 256x 256x1024 |     64703     -- |   4434392  68.5x |   3213481  49.7x |   4378952  67.7x |   3654443  56.5x |   3902645  60.3x | 68.5x
 256x 256x2048 |     61304     -- |   4980154  81.2x |   3333354  54.4x |   3584537  58.5x |   4452274  72.6x |   5514750    90x | 90x
 374x 374x   8 |    832068     -- |   3350726  4.03x |   3304054  3.97x |   3210360  3.86x |   3205160  3.85x |   3414260   4.1x | 4.1x
 374x 374x  16 |   1259151     -- |   3547838  2.82x |   3595248  2.86x |   3662001  2.91x |   3542537  2.81x |   3551142  2.82x | 2.91x
 374x 374x 128 |    846013     -- |   3994722  4.72x |   3878906  4.58x |   3206001  3.79x |   3741321  4.42x |   4012516  4.74x | 4.74x
 374x 374x 256 |   1264926     -- |   3929690  3.11x |   5129453  4.06x |   4268933  3.37x |   4509111  3.56x |   4027821  3.18x | 4.06x
 374x 374x 512 |    532998     -- |   4542544  8.52x |   3231822  6.06x |   4440470  8.33x |   3371830  6.33x |   5143016  9.65x | 9.65x
 374x 374x1024 |    149996     -- |   3304066    22x |   4308171  28.7x |   4019690  26.8x |   3147627    21x |   3152950    21x | 28.7x
 374x 374x2048 |    110920     -- |   3938133  35.5x |   3866944  34.9x |   3717764  33.5x |   5802590  52.3x |   2946067  26.6x | 52.3x
 512x 512x   8 |    349904     -- |   3546756  10.1x |   3721603  10.6x |   3473798  9.93x |   3464958   9.9x |   3481360  9.95x | 10.6x
 512x 512x  16 |    212219     -- |   3683918  17.4x |   3936421  18.5x |   4096864  19.3x |   3400764    16x |   3834002  18.1x | 19.3x
 512x 512x 128 |    116796     -- |   4160973  35.6x |   3203621  27.4x |   3423075  29.3x |   3982031  34.1x |   4702167  40.3x | 40.3x
 512x 512x 256 |     70561     -- |   5012377    71x |   4004667  56.8x |   4595607  65.1x |   4079081  57.8x |   4754889  67.4x | 71x
 512x 512x 512 |     97535     -- |   3445552  35.3x |   3793131  38.9x |   3289298  33.7x |   3865638  39.6x |   3371551  34.6x | 39.6x
 512x 512x1024 |     54511     -- |   3233456  59.3x |   4807194  88.2x |   5340592    98x |   4132677  75.8x |   5354396  98.2x | 98.2x
 512x 512x2048 |     70479     -- |             fail |             fail |             fail |             fail |             fail |
 768x 768x   8 |    474595     -- |             fail |   3729667  7.86x |   3729808  7.86x |   3177065  6.69x |   3232585  6.81x | 7.86x
 768x 768x  16 |    197250     -- |   4462634  22.6x |   3329421  16.9x |   3546339    18x |   3569831  18.1x |   3533647  17.9x | 22.6x
 768x 768x 128 |    195850     -- |   3633216  18.6x |   4050477  20.7x |   4702533    24x |   3202501  16.4x |   3241077  16.5x | 24x
 768x 768x 256 |    144078     -- |   3653316  25.4x |   2986431  20.7x |   4804290  33.3x |   3327409  23.1x |   3498247  24.3x | 33.3x
 768x 768x 512 |     81873     -- |   4578444  55.9x |   3543714  43.3x |   3937633  48.1x |   3504340  42.8x |   3929659    48x | 55.9x
 768x 768x1024 |     70624     -- |             fail |             fail |             fail |             fail |             fail |
 768x 768x2048 |    -75846     -- |             fail |             fail |             fail |             fail |             fail |
1024x1024x   8 |    326450     -- |             fail |   3772537  11.6x |   4141809  12.7x |   3838465  11.8x |   4030106  12.3x | 12.7x
1024x1024x  16 |    256164     -- |   3607604  14.1x |   4987452  19.5x |   3755817  14.7x |   3237268  12.6x |   4007002  15.6x | 19.5x
1024x1024x 128 |     97930     -- |   3297898  33.7x |   4489130  45.8x |   3040078    31x |   4453446  45.5x |   5361559  54.7x | 54.7x
1024x1024x 256 |     69642     -- |   3290699  47.3x |   5854811  84.1x |   3211517  46.1x |   4668055    67x |   3729390  53.6x | 84.1x
1024x1024x 512 |     79193     -- |             fail |             fail |             fail |             fail |             fail |
1024x1024x1024 |    -46336     -- |             fail |             fail |             fail |             fail |             fail |
1024x1024x2048 failed to init data

benchmark: difference map
          size |         cpu mops |      cuda64 mops |     cuda128 mops |     cuda256 mops |     cuda512 mops |    cuda1024 mops | best
  32x  32x   8 |    361227     -- |             fail |   1427744  3.95x |   1438284  3.98x |   1439318  3.98x |   1444191     4x | 4x
  32x  32x  16 |    363539     -- |   2042164  5.62x |   2039979  5.61x |   2047463  5.63x |   2052358  5.65x |   2062087  5.67x | 5.67x
  32x  32x 128 |    241602     -- |   1734016  7.18x |   1736038  7.19x |   1738702   7.2x |   1739540   7.2x |   1739706   7.2x | 7.2x
  32x  32x 256 |    242580     -- |   1772525  7.31x |   1780603  7.34x |   1781308  7.34x |   1781334  7.34x |   1781712  7.34x | 7.34x
  32x  32x 512 |    238675     -- |   1796404  7.53x |   1803325  7.56x |   1803288  7.56x |   1804345  7.56x |   1804262  7.56x | 7.56x
  64x  64x   8 |    333307     -- |   2264848   6.8x |   3004617  9.01x |   3032083   9.1x |   3049521  9.15x |   3077155  9.23x | 9.23x
  64x  64x  16 |    351900     -- |   1961890  5.58x |   3126868  8.89x |   3137264  8.92x |   3176351  9.03x |   3207304  9.11x | 9.11x
  64x  64x 128 |    356878     -- |   1790851  5.02x |   3261817  9.14x |   3286813  9.21x |   3322180  9.31x |   3389488   9.5x | 9.5x
  64x  64x 256 |    123800     -- |   1800448  14.5x |   3297708  26.6x |   3322976  26.8x |   3370906  27.2x |   3432870  27.7x | 27.7x
  64x  64x 512 |    128919     -- |   1817941  14.1x |   3349453    26x |   3375848  26.2x |   3419213  26.5x |   3469531  26.9x | 26.9x
 128x 128x   8 |    361930     -- |   1557205   4.3x |   2745523  7.59x |   2735982  7.56x |   2711658  7.49x |   2716296  7.51x | 7.59x
 128x 128x  16 |    366710     -- |   1675576  4.57x |   3029116  8.26x |   3032562  8.27x |   3029364  8.26x |   3033830  8.27x | 8.27x
 128x 128x 128 |    133533     -- |   1806560  13.5x |   3343102    25x |   3372424  25.3x |   3374429  25.3x |   3429032  25.7x | 25.7x
 128x 128x 256 |    121778     -- |   1817328  14.9x |   3330625  27.3x |   3360281  27.6x |   3431255  28.2x |   3464249  28.4x | 28.4x
 128x 128x 512 |    106307     -- |   1813372  17.1x |   3330622  31.3x |   3385152  31.8x |   3428695  32.3x |   3452050  32.5x | 32.5x
 256x 256x   8 |    361488     -- |   1604468  4.44x |   2900002  8.02x |   2896570  8.01x |   2848856  7.88x |   2837261  7.85x | 8.02x
 256x 256x  16 |    217532     -- |   1707800  7.85x |   3154195  14.5x |   3144363  14.5x |   3110410  14.3x |   3124260  14.4x | 14.5x
 256x 256x 128 |    109578     -- |   1810675  16.5x |   3389821  30.9x |   3385396  30.9x |   3401809    31x |   3451022  31.5x | 31.5x
 256x 256x 256 |    107867     -- |   1818576  16.9x |   3403078  31.5x |   3419175  31.7x |   3439599  31.9x |   3444587  31.9x | 31.9x
 256x 256x 512 |     66422     -- |   1821184  27.4x |   3369035  50.7x |   3377426  50.8x |   3391251  51.1x |   3470869  52.3x | 52.3x
 374x 374x   8 |    360503     -- |   1552495  4.31x |   2796990  7.76x |   2760304  7.66x |   2730320  7.57x |   2619486  7.27x | 7.76x
 374x 374x  16 |    362583     -- |   1650110  4.55x |   2992589  8.25x |   2966034  8.18x |   2919151  8.05x |   2870068  7.92x | 8.25x
 374x 374x 128 |    241384     -- |   1737856   7.2x |   3152739  13.1x |   3148468    13x |   3142822    13x |   3146727    13x | 13.1x
 374x 374x 256 |    251031     -- |   1743292  6.94x |   3165110  12.6x |   3162833  12.6x |   3165819  12.6x |   3173232  12.6x | 12.6x
 374x 374x 512 |    237815     -- |   1731046  7.28x |   3163176  13.3x |   3165277  13.3x |   3170651  13.3x |   3148762  13.2x | 13.3x
 512x 512x   8 |    282764     -- |   1618912  5.73x |   3011684  10.7x |   2966562  10.5x |   2938366  10.4x |   2859734  10.1x | 10.7x
 512x 512x  16 |    125709     -- |   1715004  13.6x |   3217143  25.6x |   3179510  25.3x |   3160990  25.1x |   3137852    25x | 25.6x
 512x 512x 128 |     75030     -- |   1807543  24.1x |   3420465  45.6x |   3441648  45.9x |   3420131  45.6x |   3474566  46.3x | 46.3x
 512x 512x 256 |     56548     -- |   1785073  31.6x |   3370822  59.6x |   3444376  60.9x |   3462378  61.2x |   3486516  61.7x | 61.7x
 512x 512x 512 |     55650     -- |   1796710  32.3x |   3377434  60.7x |   3446341  61.9x |   3458204  62.1x |   3479628  62.5x | 62.5x
 768x 768x   8 |    353762     -- |   1619522  4.58x |   3008307   8.5x |   2996894  8.47x |   2935205   8.3x |   2866222   8.1x | 8.5x
 768x 768x  16 |    210250     -- |   1719314  8.18x |   3240362  15.4x |   3214701  15.3x |   3177688  15.1x |   3146265    15x | 15.4x
 768x 768x 128 |     89846     -- |   1759188  19.6x |   3384173  37.7x |   3384649  37.7x |   3400709  37.9x |   3405750  37.9x | 37.9x
 768x 768x 256 |     75290     -- |   1769078  23.5x |   3384926    45x |   3385092    45x |   3402070  45.2x |   3411484  45.3x | 45.3x
 768x 768x 512 |     60929     -- |   1775613  29.1x |   3316427  54.4x |   3389671  55.6x |   3426603  56.2x |   3447510  56.6x | 56.6x
1024x1024x   8 |    323637     -- |   1625055  5.02x |   3007331  9.29x |   2985661  9.23x |   2923429  9.03x |   2896456  8.95x | 9.29x
1024x1024x  16 |    117111     -- |   1716505  14.7x |   3243196  27.7x |   3233571  27.6x |   3190427  27.2x |   3132181  26.7x | 27.7x
1024x1024x 128 |     57722     -- |   1746699  30.3x |   3392223  58.8x |   3408706  59.1x |   3387796  58.7x |   3393406  58.8x | 59.1x
1024x1024x 256 |     51359     -- |   1754652  34.2x |   3390098    66x |   3388908    66x |   3429900  66.8x |   3437244  66.9x | 66.9x
1024x1024x 512 |     48761     -- |             fail |             fail |             fail |             fail |             fail |
2048x2048x   8 |    324210     -- |             fail |   2994972  9.24x |   2969970  9.16x |   2923708  9.02x |   2894286  8.93x | 9.24x
2048x2048x  16 |     97152     -- |             fail |   3232761  33.3x |   3229219  33.2x |   3182332  32.8x |   3166174  32.6x | 33.3x
2048x2048x 128 |     52061     -- |             fail |             fail |             fail |             fail |             fail |
2048x2048x 256 |     48771     -- |             fail |             fail |             fail |             fail |             fail |
2048x2048x 512 failed to init data
4096x4096x   8 |    279902     -- |             fail |             fail |             fail |   2958338  10.6x |   2899504  10.4x | 10.6x
4096x4096x  16 |     92127     -- |             fail |             fail |             fail |   3197930  34.7x |   3171892  34.4x | 34.7x

benchmark: bestmatch in dmap
          size |         cpu mops |     cuda256 mops | best
  32x  32x   1 |    651300     -- |     16953 0.026x | 0.026x
  64x  64x   1 |    665482     -- |     67966 0.102x | 0.102x
 128x 128x   1 |    643508     -- |    259542 0.403x | 0.403x
 256x 256x   1 |    651569     -- |    822792  1.26x | 1.26x
 374x 374x   1 |    656238     -- |   1209580  1.84x | 1.84x
 512x 512x   1 |    647785     -- |   1578636  2.44x | 2.44x
 768x 768x   1 |    645367     -- |   1996241  3.09x | 3.09x
1024x1024x   1 |    658845     -- |   2280496  3.46x | 3.46x
2048x2048x   1 |    646950     -- |   2545670  3.93x | 3.93x
